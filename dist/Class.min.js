/*!
 * Class.js
 * Version 0.6.0
 *
 * Copyright(c) 2014 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
 *
 * http://www.class-js.com
 */
!function(a,b){"function"==typeof define&&define.amd?define(b):"undefined"!=typeof exports?module.exports=b():a.Class=b()}(this,function(){function a(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)}var b=!1;if("undefined"!=typeof window){var c=window.navigator.userAgent.toLowerCase();b=/msie/.test(c)&&!/opera/.test(c)}var d=0,e=/xyz/.test(function(){})?/\b_super\b/:/.*/,f=function(a){for(var b in a)this[b]=a[b]},g={abstractMethod:function(){throw new Error("method must be implemented in subclass")},assign:function(a,b,c){if(c&&g.assign(a,c),a&&b&&"object"==typeof b)for(var d in b)a[d]=b[d];return a},create:function(a){return g.extend(Object,a)},extend:function(a,b){1===arguments.length&&(b=a,a=Object);var c=!!b.abstractClass,d=b.statics,e=b.inheritedStatics,f=b.mixins;delete b.statics,delete b.inheritedStatics,delete b.mixins,g.wrapSuperclassCallingMethods(a,b);var h=g.createConstructor(a,b),i=function(){var a=this.constructor.prototype;if(a.hasOwnProperty("abstractClass")&&a.abstractClass===!0)throw new Error("Error: Cannot instantiate abstract class");return h.apply(this,arguments)};g.createPrototypeChain(a,i),g.attachCommonSubclassStatics(i),g.attachCommonSubclassInstanceMethods(a,i),g.override(i,b),c||g.checkAbstractMethodsImplemented(i),(e||a.__Class_inheritedStatics)&&(e=g.assign({},e,a.__Class_inheritedStatics),g.assign(i,e),i.__Class_inheritedStatics=e),d&&g.assign(i,d),f&&g.applyMixins(i,f);var j=i.onClassCreate||i.onClassCreated||i.onClassExtended;return j&&j.call(i,i),i},createConstructor:function(a,b){var c;return b.constructor!==Object?(c=b.constructor,delete b.constructor):c=a===Object?function(){}:function(){return a.apply(this,arguments)},c},createPrototypeChain:function(a,b){var c=a.prototype,d=b.prototype,e=function(){};e.prototype=c,d=b.prototype=new e,d.constructor=b,b.superclass=b.__super__=c,b.__Class=!0},checkAbstractMethodsImplemented:function(a){var b=a.prototype;for(var c in b)if(b[c]===g.abstractMethod)throw new Error(b.hasOwnProperty(c)?"The class being created has abstract method '"+c+"', but is not declared with 'abstractClass: true'":"The concrete subclass being created must implement abstract method: '"+c+"', or be declared abstract as well (using 'abstractClass: true')")},wrapSuperclassCallingMethods:function(a,b){var c=a.prototype;for(var d in b)"constructor"!==d&&b.hasOwnProperty(d)&&"function"==typeof b[d]&&"function"==typeof c[d]&&!b[d].hasOwnProperty("__Class")&&e.test(b[d])&&(b[d]=g.createSuperclassCallingMethod(a,d,b[d]));b.hasOwnProperty("constructor")&&"function"==typeof b.constructor&&"function"==typeof c.constructor&&e.test(b.constructor)&&(b.constructor=g.createSuperclassCallingMethod(a,"constructor",b.constructor))},attachCommonSubclassStatics:function(a){a.override=function(b){g.override(a,b)},a.extend=function(b){return g.extend(a,b)},a.hasMixin=function(b){return g.hasMixin(a,b)}},attachCommonSubclassInstanceMethods:function(a,b){var c=b.prototype;c.superclass=c.supr=function(){return a.prototype},c.override=f,c.hasMixin=function(a){return g.hasMixin(this.constructor,a)}},createSuperclassCallingMethod:function(a,b,c){var d=a.prototype;return function(){var a=this._super,e=this;this._super=function(a){return d[b].apply(e,a||[])};var f=c.apply(this,arguments);return this._super=a,f}},applyMixins:function(a,b){for(var c=a.prototype,d=b.length-1;d>=0;d--){var e=b[d].prototype;for(var f in e)"undefined"==typeof c[f]&&(c[f]=e[f])}a.mixins=b},override:function(a,c){if(c){var d=a.prototype;g.assign(d,c),b&&c.hasOwnProperty("toString")&&(d.toString=c.toString)}},isInstanceOf:function(b,c){if("function"!=typeof c)throw new Error("jsClass argument of isInstanceOf method expected a Function (constructor function) for a JavaScript class");return a(b)?b instanceof c?!0:g.hasMixin(b.constructor,c)?!0:!1:!1},isSubclassOf:function(a,b){if("function"!=typeof a||"function"!=typeof b)return!1;if(a===b)return!0;for(var c=a,d=c.prototype;c=(d=c.__super__)&&d.constructor;)if(d.constructor===b)return!0;return!1},hasMixin:function(a,b){var c=b.__Class_classId;c||(c=b.__Class_classId=++d);var e=a.__Class_hasMixinCache;if(e||(e=a.__Class_hasMixinCache={}),c in e)return e[c];var f=a.mixins,h=a.superclass||a.__super__;if(f)for(var i=0,j=f.length;j>i;i++)if(f[i]===b)return e[c]=!0;if(h&&h.constructor&&h.constructor!==Object){var k=g.hasMixin(h.constructor,b);return e[c]=k}return e[c]=!1}};return g});