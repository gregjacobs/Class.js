/*!
 * Class.js
 * Version 0.6.0
 *
 * Copyright(c) 2014 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
 *
 * http://www.class-js.com
 */
!function(a,b){"function"==typeof define&&define.amd?define(b):"undefined"!=typeof exports?module.exports=b():a.Class=b()}(this,function(){var a=0,b={abstractMethod:function(){throw new Error("method must be implemented in subclass")},create:function(a){return b.extend(Object,a)},extend:function(a,b){return 1===arguments.length&&(b=a,a=Object),e.build(a,b)},override:function(a,b){if(b){var c=a.prototype;f.assign(c,b),f.isIe()&&b.hasOwnProperty("toString")&&(c.toString=b.toString)}},isInstanceOf:function(a,c){if("function"!=typeof c)throw new Error("jsClass argument of isInstanceOf method expected a Function (constructor function) for a JavaScript class");return f.isObject(a)?a instanceof c?!0:b.hasMixin(a.constructor,c)?!0:!1:!1},isSubclassOf:function(a,b){if("function"!=typeof a||"function"!=typeof b)return!1;if(a===b)return!0;for(var c=a,d=c.prototype;c=(d=c.__super__)&&d.constructor;)if(d.constructor===b)return!0;return!1},hasMixin:function(c,d){var e=d.__Class_classId;e||(e=d.__Class_classId=++a);var f=c.__Class_hasMixinCache;if(f||(f=c.__Class_hasMixinCache={}),e in f)return f[e];var g=c.mixins,h=c.superclass||c.__super__;if(g)for(var i=0,j=g.length;j>i;i++)if(g[i]===d)return f[e]=!0;if(h&&h.constructor&&h.constructor!==Object){var k=b.hasMixin(h.constructor,d);return f[e]=k}return f[e]=!1}},c=/xyz/.test(function(){})?/\b_super\b/:/.*/,d=function(a){for(var b in a)this[b]=a[b]},e={build:function(a,c){var d=!!c.abstractClass,g=c.statics,h=c.inheritedStatics,i=c.mixins;delete c.statics,delete c.inheritedStatics,delete c.mixins,e.wrapSuperclassCallingMethods(a,c);var j=e.createConstructor(a,c),k=function(){var a=this.constructor.prototype;if(a.hasOwnProperty("abstractClass")&&a.abstractClass===!0)throw new Error("Error: Cannot instantiate abstract class");return j.apply(this,arguments)};e.createPrototypeChain(a,k),e.attachCommonSubclassStatics(k),e.attachCommonSubclassInstanceMethods(a,k),b.override(k,c),d||e.checkAbstractMethodsImplemented(k),(h||a.__Class_inheritedStatics)&&(h=f.assign({},a.__Class_inheritedStatics,h),f.assign(k,h),k.__Class_inheritedStatics=h),g&&f.assign(k,g),i&&e.applyMixins(k,i);var l=k.onClassCreate||k.onClassCreated||k.onClassExtended;return l&&l.call(k,k),k},createConstructor:function(a,b){var c;return b.constructor!==Object?(c=b.constructor,delete b.constructor):c=a===Object?function(){}:function(){return a.apply(this,arguments)},c},createPrototypeChain:function(a,b){var c=a.prototype,d=b.prototype,e=function(){};e.prototype=c,d=b.prototype=new e,d.constructor=b,b.superclass=b.__super__=c,b.__Class=!0},checkAbstractMethodsImplemented:function(a){var c=a.prototype;for(var d in c)if(c[d]===b.abstractMethod)throw new Error(c.hasOwnProperty(d)?"The class being created has abstract method '"+d+"', but is not declared with 'abstractClass: true'":"The concrete subclass being created must implement abstract method: '"+d+"', or be declared abstract as well (using 'abstractClass: true')")},wrapSuperclassCallingMethods:function(a,b){var d=a.prototype;for(var f in b)"constructor"!==f&&b.hasOwnProperty(f)&&"function"==typeof b[f]&&"function"==typeof d[f]&&!b[f].hasOwnProperty("__Class")&&c.test(b[f])&&(b[f]=e.createSuperclassCallingMethod(a,f,b[f]));b.hasOwnProperty("constructor")&&"function"==typeof b.constructor&&"function"==typeof d.constructor&&c.test(b.constructor)&&(b.constructor=e.createSuperclassCallingMethod(a,"constructor",b.constructor))},attachCommonSubclassStatics:function(a){a.override=function(c){b.override(a,c)},a.extend=function(c){return b.extend(a,c)},a.hasMixin=function(c){return b.hasMixin(a,c)}},attachCommonSubclassInstanceMethods:function(a,c){var e=c.prototype;e.superclass=e.supr=function(){return a.prototype},e.override=d,e.hasMixin=function(a){return b.hasMixin(this.constructor,a)}},createSuperclassCallingMethod:function(a,b,c){var d=a.prototype;return function(){var a=this._super,e=this;this._super=function(a){return d[b].apply(e,a||[])};var f=c.apply(this,arguments);return this._super=a,f}},applyMixins:function(a,b){for(var c=a.prototype,d=b.length-1;d>=0;d--){var e=b[d].prototype;for(var f in e)"undefined"==typeof c[f]&&(c[f]=e[f])}a.mixins=b}},f=b.Util={assign:function(a){for(var b=Array.prototype.slice.call(arguments,1),c=0,d=b.length;d>c;c++){var e=b[c];for(var f in e)e.hasOwnProperty(f)&&(a[f]=e[f])}return a},isObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},isIe:function(){var a=!1;if("undefined"!=typeof window&&window.navigator&&window.navigator.userAgent){var b=window.navigator.userAgent.toLowerCase();a=/msie/.test(b)&&!/opera/.test(b)}return function(){return a}}()};return b});